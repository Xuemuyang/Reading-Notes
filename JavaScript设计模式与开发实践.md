# JavaScriptè®¾è®¡æ¨¡å¼ä¸Žå¼€å‘å®žè·µ

## å‰è¨€

"æ¨¡å¼"æœ€æ—©è¯žç”ŸäºŽå»ºç­‘å­¦ã€‚å“ˆä½›å¤§å­¦å»ºç­‘å­¦åšå£«Christopher Alexanderå’Œä»–çš„ç ”ç©¶å›¢é˜ŸèŠ±äº†çº¦20å¹´çš„æ—¶é—´ï¼Œç ”ç©¶äº†ä¸ºè§£å†³åŒä¸€ä¸ªé—®é¢˜è€Œè®¾è®¡å‡ºçš„ä¸åŒå»ºç­‘ç»“æž„ï¼Œä»Žä¸­å‘çŽ°äº†é‚£äº›é«˜è´¨é‡è®¾è®¡ä¸­çš„ç›¸ä¼¼æ€§ï¼Œå¹¶ä¸”ç”¨"æ¨¡å¼"æ¥æŒ‡ä»£è¿™ç§ç›¸ä¼¼æ€§ã€‚

é€šä¿—ä¸€ç‚¹æ¥è¯´ï¼Œè®¾è®¡æ¨¡å¼æ˜¯åœ¨æŸç§åœºåˆä¸‹å¯¹æŸä¸ªé—®é¢˜çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚

"å¥½çš„è®¾è®¡"å¹¶ä¸æ˜¯æŸäººå‘æ˜Žçš„ï¼Œè€Œæ˜¯ä¸€ç›´å­˜åœ¨çš„ï¼Œå¤§å®¶ä¼šå‡­ç»éªŒä¸€ç›´ä½¿ç”¨ï¼Œ"æ¨¡å¼"ä¸è¿‡æ˜¯ç»™"å¥½çš„è®¾è®¡"èµ·ä¸ªåå­—ã€‚

è®¾è®¡æ¨¡å¼çš„ä½œç”¨æ˜¯è®©äººä»¬å†™å‡ºå¯å¤ç”¨å’Œå¯ç»´æŠ¤æ€§é«˜çš„ç¨‹åºã€‚

æ‰€æœ‰è®¾è®¡æ¨¡å¼çš„å®žçŽ°éƒ½éµå¾ª"æ‰¾å‡ºç¨‹åºä¸­å˜åŒ–çš„åœ°æ–¹ï¼Œå°†å…¶å°è£…èµ·æ¥"ã€‚

## ç¬¬ä¸€éƒ¨åˆ† åŸºç¡€çŸ¥è¯†

### ç¬¬1ç«  é¢å‘å¯¹è±¡çš„JavaScript

#### åŠ¨æ€ç±»åž‹è¯­è¨€å’Œé¸­å­ç±»åž‹

ç¼–ç¨‹è¯­è¨€æŒ‰ç…§æ•°æ®ç±»åž‹å¤§ä½“å¯ä»¥åˆ†ä¸ºä¸¤ç±»

+ é™æ€ç±»åž‹è¯­è¨€(ç¼–è¯‘æ—¶ç¡®å®šç±»åž‹)
+ åŠ¨æ€ç±»åž‹è¯­è¨€(è¿è¡Œæ—¶ç¡®å®šç±»åž‹)

> é¸­å­ç±»åž‹(duck typing)ï¼Œå¦‚æžœå®ƒèµ°èµ·è·¯æ¥åƒé¸­å­ï¼Œå«èµ·æ¥ä¹Ÿæ˜¯é¸­å­ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é¸­å­ã€‚

åœ¨åŠ¨æ€ç±»åž‹è¯­è¨€çš„é¢ç›¸å¯¹è±¡è®¾è®¡ä¸­ï¼Œé¸­å­ç±»åž‹çš„æ¦‚å¿µè‡³å…³é‡è¦ã€‚æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®žçŽ°"é¢ç›¸æŽ¥å£ç¼–ç¨‹"ã€‚ä¾‹å¦‚ä¸€ä¸ªå¯¹è±¡è‹¥æœ‰`push`å’Œ`pop`æ–¹æ³•ï¼Œå®ƒå°±å¯ä»¥è¢«å½“åšæ ˆæ¥ä½¿ç”¨ã€‚

#### å¤šæ€

JavaScriptå¯¹è±¡çš„å¤šæ€æ€§æ˜¯ä¸Žç”Ÿä¿±æ¥çš„ï¼ŒæŸä¸€ç§åŠ¨ç‰©èƒ½å¦å‘å‡ºå«å£°ï¼Œåªå–å†³äºŽå®ƒæœ‰æ²¡æœ‰`makeSound`æ–¹æ³•ï¼Œè€Œä¸å–å†³äºŽå®ƒæ˜¯å¦æ˜¯æŸç§ç±»åž‹çš„å¯¹è±¡ã€‚

> å¤šæ€æœ€æ ¹æœ¬çš„ä½œç”¨å°±æ˜¯é€šè¿‡å§è¿‡ç¨‹åŒ–çš„æ¡ä»¶åˆ†æ”¯è¯­å¥è½¬åŒ–ä¸ºå¯¹è±¡çš„å¤šæ€æ€§ï¼Œä»Žè€Œæ¶ˆé™¤è¿™äº›æ¡ä»¶åˆ†æ”¯è¯­å¥ã€‚

ä¸€ä¸ªä¾‹å­å¾ˆå¥½çš„è¯ é‡Š

ç”µå½±æ‹æ‘„çŽ°åœºï¼Œå¯¼æ¼”å–Šå‡º"action"ï¼Œä¸»è§’å¼€å§‹èƒŒå°è¯ï¼Œç¯å…‰å¸ˆå‚…æ‰“ç¯ï¼Œç¾¤ä¼—æ¼”å‘˜å€’åœ°ã€‚å¾—åˆ°åŒä¸€ä¸ªæ¶ˆæ¯æ—¶ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½çŸ¥é“è‡ªå·±åº”è¯¥åšä»€ä¹ˆã€‚

æ¯ä¸ªå¯¹è±¡è¯¥åšä»€ä¹ˆï¼Œäº‹å…ˆå·²ç»æ˜¯è¯¥å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè¢«å®‰è£…åœ¨å¯¹è±¡çš„å†…éƒ¨ã€‚

ç”¨ä»£ç ä¸¾ä¸ªðŸŒ°

ä¸€ä¸ªåœ°å›¾åº”ç”¨ï¼Œæˆ‘ä»¬é€‰æ‹©googleçš„API

```js
const googleMap = {
  show() {
    console.log('å¼€å§‹æ¸²æŸ“è°·æ­Œåœ°å›¾')
  }
}

const renderMap = () => {
  googleMap.show()
}

renderMap()
```

åŽæ¥ç”±äºŽæŸäº›åŽŸå› ï¼Œæˆ‘ä»¬éœ€è¦æŠŠgoogleæ¢æˆç™¾åº¦ï¼ŒäºŽæ˜¯ä»£ç å˜æˆäº†è¿™æ ·:

```js
const googleMap = {
  show() {
    console.log('å¼€å§‹æ¸²æŸ“è°·æ­Œåœ°å›¾')
  }
}

const baiduMap = {
  show() {
    console.log('å¼€å§‹æ¸²æŸ“ç™¾åº¦åœ°å›¾')
  }
}

const renderMap = type => {
  if (type === 'google') {
    googleMap.show()
  } else if (type === 'baidu') {
    baiduMap.show()
  }
}

renderMap('google')
renderMap('baidu')
```

ä¸€æ—¦éœ€è¦å°†å…¶æ¢æˆé«˜å¾·åœ°å›¾ï¼Œå¿…é¡»è¦æ”¹åŠ¨renderMapå‡½æ•°ï¼Œç»§ç»­å †ç Œæ¡ä»¶åˆ†æ”¯è¯­å¥ã€‚

å°†ç¨‹åºä¸­ç›¸åŒçš„éƒ¨åˆ†æŠ½è±¡å‡ºæ¥:

```js
const renderMap = map => {
  if (map.show instanceof Function) {
    map.show()
  }
}

renderMap(googleMap)
renderMap(baiduMap)
```